# 264 ï¼šä¸‘æ•° 2

---

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/chou-shu-lcof/)

ğŸ“—difficultyï¼š	**Medium**	

ğŸ¯Tagsï¼š

+ **[åŠ¨æ€è§„åˆ’](https://leetcode-cn.com/tag/dynamic-programming/)**
+ **[æ•°å­¦](https://leetcode-cn.com/tag/math/)**
---

## 1. é¢˜ç›®æè¿°ğŸ“ƒ

æˆ‘ä»¬æŠŠåªåŒ…å«è´¨å› å­ `2`ã€`3` å’Œ `5` çš„æ•°ç§°ä½œä¸‘æ•°ï¼ˆUgly Numberï¼‰ã€‚æ±‚æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºçš„ç¬¬ `n` ä¸ªä¸‘æ•°ã€‚



**æ ·ä¾‹ 1 ï¼š**

```
è¾“å…¥: n = 10
è¾“å‡º: 12
è§£é‡Š: 1, 2, 3, 4, 5, 6, 8, 9, 10, 12 æ˜¯å‰ 10 ä¸ªä¸‘æ•°ã€‚
```



**æ³¨æ„ï¼š**

+ `1` æ˜¯ä¸‘æ•°ã€‚
+ `n` **ä¸è¶…è¿‡**1690ã€‚



æ³¨æ„ï¼šæœ¬é¢˜ä¸ä¸»ç«™ 264 é¢˜ç›¸åŒï¼šhttps://leetcode-cn.com/problems/ugly-number-ii/

---

## 2. è§£é¢˜æ€è·¯ğŸ’¡

ä¸€ç§ç®€å•çš„æ€è·¯æ˜¯ï¼Œéå†æ¯ä¸€ä¸ªæ•°å­—ï¼Œé€ä¸ªè®¡ç®—æ˜¯ä¸æ˜¯ä¸‘æ•°ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ `n` ä¸ªä¸‘æ•°ä¸ºæ­¢ã€‚

```java
public boolean isUgly(int number) {
    while (number % 2 == 0) {
        number /= 2;
    }
    while (number % 3 == 0) {
        number /= 3;
    }
    while (number % 5 == 0) {
        number /= 5;
    }
    return number == 1;
}

public int nthUglyNumber(int n) {
    if (n <= 0) {
        return 0;
    }

    int res = 0;
    int idx = 0;
    while (idx < n) {
        res++;
        if (isUgly(res)) {
            idx++;
        }
    }
    return res;
}
```

ä½†æ˜¯è¿™æ ·çš„ç®—æ³•ï¼Œç¼ºé™·å¾ˆæ˜æ˜¾â€”â€”å­˜åœ¨è¿‡å¤šçš„é‡å¤è®¡ç®—äº†ã€‚

éœ€è¦å¯¹å…¶æ—¶é—´å¤æ‚åº¦è¿›è¡Œä¼˜åŒ–ï¼Œä¸€ç§æ€è·¯æ˜¯ä»¥ç©ºé—´æ¢æ—¶é—´ã€‚å¦‚æœå°†æ¯ä¸€ä¸ªä¸‘æ•°è®°å½•åœ¨æ•°ç»„ä¸­ï¼Œè¿™æ ·åœ¨æŸ¥è¯¢ç¬¬ n ä¸ªä¸‘æ•°æ—¶ï¼Œå°±èƒ½åšåˆ° `O(1)` çš„å¤æ‚åº¦äº†ã€‚

### ä»å®šä¹‰å…¥æ‰‹å¯»æ‰¾è§„å¾‹

ä¸‘æ•°æ˜¯åªèƒ½è¢« 2ï¼Œ3ï¼Œ5 æ•´é™¤çš„æ•°ï¼Œå¦‚æœå¯¹ä¸€ä¸ªä¸‘æ•°è¿›è¡Œä¹˜æ³•ï¼Œä¹˜ä»¥ 2ï¼Œ3ï¼Œ5ï¼Œé‚£ä¹ˆå¾—åˆ°çš„æ•°å­—è¿˜æ˜¯ä¸€ä¸ªä¸‘æ•°ã€‚

åŒæ—¶ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªå·²ç»æ’åºå¥½çš„ä¸‘æ•°çš„æ•°ç»„ï¼Œé‚£ä¹ˆå¯¹äºä¸€ä¸ªæ–°ç”Ÿæˆçš„ä¸‘æ•°ï¼Œéœ€è¦è¿›è¡Œçš„ä¸€ä¸ªæ“ä½œæ˜¯ï¼šå°†è¯¥æ–°ç”Ÿæˆçš„ä¸‘æ•°æ”¾åˆ°æ’åºæ•°ç»„çš„æ­£ç¡®ä½ç½®ä¸Šå»ã€‚

![ã€Šå‰‘æŒ‡Offerã€‹ä¸­ç»™å‡ºçš„æ€è·¯](https://assets.ryantech.ltd/20200821144049.png)



#### ä»£ç å®ç°

```java
public int nthUglyNumber(int n) {
    if (n <= 0) {
        return 0;
    }

    int[] uglyNumbers = new int[n];
    uglyNumbers[0] = 1;
    int nextUglyIndex = 1;
    int pMultiply2 = 0, pMultiply3 = 0, pMultiply5 = 0;
    while (nextUglyIndex < n) {
        int min = Math.min(Math.min(uglyNumbers[pMultiply2] * 2, uglyNumbers[pMultiply3] * 3), uglyNumbers[pMultiply5] * 5);
        uglyNumbers[nextUglyIndex] = min;
        while (uglyNumbers[pMultiply2] * 2 <= uglyNumbers[nextUglyIndex]) {
            pMultiply2++;
        }
        while (uglyNumbers[pMultiply3] * 3 <= uglyNumbers[nextUglyIndex]) {
            pMultiply3++;
        }
        while (uglyNumbers[pMultiply5] * 5 <= uglyNumbers[nextUglyIndex]) {
            pMultiply5++;
        }
        nextUglyIndex++;
    }
    return uglyNumbers[nextUglyIndex - 1];
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(n)` ã€‚



---

## 3. æ€»ç»“ğŸ¯

#### ç›¸ä¼¼é¢˜ç›®

[263. ä¸‘æ•°](https://leetcode-cn.com/problems/ugly-number/)

[264. ä¸‘æ•° II](https://leetcode-cn.com/problems/ugly-number-ii/)
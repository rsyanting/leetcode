

# 191_NumberOf1Bits_ä½1çš„ä¸ªæ•°

## ğŸ“Œé¢˜ç›®è¯¦æƒ…

[leetcode é¢˜ç›®åœ°å€](https://leetcode.com/problems/number-of-1-bits/)

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/number-of-1-bits/)

ğŸ“—Difficultyï¼š **Easy**

ğŸ¯Tagsï¼š

+ **[Bit Manipulation](https://leetcode-cn.com/tag/bit-manipulation/)** 



---

## ğŸ“ƒé¢˜ç›®æè¿°

ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥æ˜¯ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œè¿”å›å…¶äºŒè¿›åˆ¶è¡¨è¾¾å¼ä¸­æ•°å­—ä½æ•°ä¸º **â€˜1â€™** çš„ä¸ªæ•°ï¼ˆä¹Ÿè¢«ç§°ä¸º[æ±‰æ˜é‡é‡](https://baike.baidu.com/item/æ±‰æ˜é‡é‡)ï¼‰ã€‚



**æ ·ä¾‹ 1ï¼š**

```
è¾“å…¥ï¼š00000000000000000000000000001011
è¾“å‡ºï¼š3
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000000001011Â ä¸­ï¼Œå…±æœ‰ä¸‰ä½ä¸º '1'ã€‚
```



**æ ·ä¾‹ 2ï¼š**

```
è¾“å…¥ï¼š00000000000000000000000010000000
è¾“å‡ºï¼š1
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 00000000000000000000000010000000Â ä¸­ï¼Œå…±æœ‰ä¸€ä½ä¸º '1'ã€‚
```



**æ ·ä¾‹ 3ï¼š**

```
è¾“å…¥ï¼š11111111111111111111111111111101
è¾“å‡ºï¼š31
è§£é‡Šï¼šè¾“å…¥çš„äºŒè¿›åˆ¶ä¸² 11111111111111111111111111111101 ä¸­ï¼Œå…±æœ‰ 31 ä½ä¸º '1'ã€‚
```



**æç¤ºï¼š**

+ è¯·æ³¨æ„ï¼Œåœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚ `Java`ï¼‰ä¸­ï¼Œæ²¡æœ‰æ— ç¬¦å·æ•´æ•°ç±»å‹ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¾“å…¥å’Œè¾“å‡ºéƒ½å°†è¢«æŒ‡å®šä¸ºæœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼Œå¹¶ä¸”ä¸åº”å½±å“æ‚¨çš„å®ç°ï¼Œå› ä¸ºæ— è®ºæ•´æ•°æ˜¯æœ‰ç¬¦å·çš„è¿˜æ˜¯æ— ç¬¦å·çš„ï¼Œå…¶å†…éƒ¨çš„äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚
+ åœ¨ `Java` ä¸­ï¼Œç¼–è¯‘å™¨ä½¿ç”¨äºŒè¿›åˆ¶è¡¥ç è®°æ³•æ¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ã€‚å› æ­¤ï¼Œåœ¨ä¸Šé¢çš„ ç¤ºä¾‹ 3 ä¸­ï¼Œè¾“å…¥è¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•° `-3`ã€‚



****

## ğŸ¹ğŸ¯è§£é¢˜æ€è·¯

> ä»¥ä¸‹æ€è·¯æ¥è‡ª leetcode-cn [å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/number-of-1-bits/solution/wei-1de-ge-shu-by-leetcode/)ï¼Œæ„Ÿè°¢å·¥ä½œäººå‘˜çš„ç²¾å¿ƒç¼–å†™ã€‚

### ä½ç§»åŠ¨

è¿™ç§æ–¹æ³•æ¯”è¾ƒç›´è§‚æ˜“æ‡‚ï¼Œæ€è·¯ä¹Ÿå¾ˆç®€å•ã€‚

ç»™å®šçš„æ˜¯ `int` ç±»å‹ï¼Œåœ¨ Java ä¸­é•¿åº¦ä¸º 32 ä½ï¼Œé‚£ä¹ˆæ£€æŸ¥è¿™ 32 ä¸ªä½ç½®å³å¯ã€‚ä½¿ç”¨ä¸€ä¸ªæ©ç  `mask = 1` æ¥å’ŒåŸæ•°å­—åš `&` è¿ç®—ï¼Œç„¶åå·¦ç§»åŠ¨ `mask` ï¼Œæ£€æŸ¥åŸæ•°å­—ä»å³å‘å·¦çš„ç¬¬äºŒä½ã€‚

#### ä»£ç å®ç°



```java
// you need to treat n as an unsigned value
public int hammingWeight(int n) {
    int res = 0;
    int mask = 0x1;
    for (int idx = 0; idx < 32; idx++) {
        if ((n & mask) != 0) {
            res++;
        }
        mask = mask << 1;
    }
    return res;
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(1)` ã€‚åœ¨æœ¬é¢˜ä¸­æ•°å­—çš„é•¿åº¦æ˜¯ç¡®å®šçš„ä¸º 32 ä½é•¿åº¦ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)` ã€‚



### åè½¬æœ€åä¸€ä¸ªä½ç½®çš„æ•°å­—



æˆ‘ä»¬å¯ä»¥æŠŠå‰é¢çš„ç®—æ³•è¿›è¡Œä¼˜åŒ–ã€‚æˆ‘ä»¬ä¸å†æ£€æŸ¥æ•°å­—çš„æ¯ä¸€ä¸ªä½ï¼Œè€Œæ˜¯ä¸æ–­æŠŠæ•°å­—æœ€åä¸€ä¸ª `1` åè½¬ï¼Œå¹¶æŠŠç­”æ¡ˆåŠ ä¸€ã€‚å½“æ•°å­—å˜æˆ `0` çš„æ—¶å€™å¶ï¼Œæˆ‘ä»¬å°±çŸ¥é“å®ƒæ²¡æœ‰ `1` çš„ä½äº†ï¼Œæ­¤æ—¶è¿”å›ç­”æ¡ˆã€‚

è¿™é‡Œå…³é”®çš„æƒ³æ³•æ˜¯å¯¹äºä»»æ„æ•°å­— `n` ï¼Œå°† `n` å’Œ `n - 1` åšä¸è¿ç®—ï¼Œä¼šæŠŠæœ€åä¸€ä¸ª `1` çš„ä½å˜æˆ `0` ã€‚ä¸ºä»€ä¹ˆï¼Ÿè€ƒè™‘ `n` å’Œ `n - 1` çš„äºŒè¿›åˆ¶è¡¨ç¤ºã€‚



![å›¾ç¤º](https://assets.ryantech.ltd/20200624164301.jpg)



#### ä»£ç å®ç°

```java
public class Solution1 {
    // you need to treat n as an unsigned value
    public int hammingWeight(int n) {
        int res = 0;
        while (n != 0) {
            res++;
            n = n & (n - 1);
        }
        return res;
    }

    public static void main(String[] args) {
        int n = 23;
        System.out.println(new Solution1().hammingWeight(n));
    }
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(1)` ã€‚åœ¨æœ¬é¢˜ä¸­æ•°å­—çš„é•¿åº¦æ˜¯ç¡®å®šçš„ä¸º 32 ä½é•¿åº¦ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)` ã€‚



## ğŸ’¡æ€»ç»“

### ç›¸ä¼¼é¢˜ç›®

[231. 2çš„å¹‚](https://leetcode-cn.com/problems/power-of-two/)

> è¿™é“é¢˜ç›®å¯ä»¥åˆ©ç”¨ 191 çš„æ€è·¯ 2 æ¥æ±‚è§£ã€‚


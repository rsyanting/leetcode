# 53 : æœ€å¤§å­åºå’Œ

## ðŸ“Œé¢˜ç›®è¯¦æƒ…

[leetcode é¢˜ç›®åœ°å€](https://leetcode.com/problems/maximum-subarray/)

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/maximum-subarray/)

ðŸ“—Difficultyï¼š**Easy**	

ðŸŽ¯Tagsï¼š

+ **[Dynamic Programming](https://leetcode.com/tag/dynamic-programming/)**

---

## ðŸ“ƒé¢˜ç›®æè¿°ï¼š

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿žç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›žå…¶æœ€å¤§å’Œã€‚ 

**æ ·ä¾‹ 1ï¼š**

```
è¾“å…¥: [-2,1,-3,4,-1,2,1,-5,4],
è¾“å‡º: 6
è§£é‡Š: è¿žç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6ã€‚
```

**å¦‚æžœä½ å·²ç»å®žçŽ°å¤æ‚åº¦ä¸º O(*n*) çš„è§£æ³•ï¼Œå°è¯•ä½¿ç”¨æ›´ä¸ºç²¾å¦™çš„åˆ†æ²»æ³•æ±‚è§£ã€‚** 

****

## ðŸ¹ðŸŽ¯è§£é¢˜æ€è·¯

### åŠ¨æ€è§„åˆ’

ç›´æŽ¥æ¥çœ‹ï¼Œä¸€ç§æƒ³æ³•æ˜¯ï¼Œä»Ž 0 å¼€å§‹å‘åŽéåŽ†ï¼Œåˆ†åˆ«ä»¥ 0 å¼€å¤´ï¼Œè®¡ç®—ä»¥ 0 å¼€å¤´çš„å­åºåˆ—çš„å’Œï¼Œä»¥ 1 å¼€å¤´çš„å­åºåˆ—çš„å’Œï¼Œä½†è¿™æ ·å¤æ‚åº¦å¾ˆé«˜ï¼Œ`O(n ^ 2)` çº§åˆ«ã€‚

é‚£ä¹ˆå¦‚æžœæ¢ä¸€ä¸ªæ€è·¯ï¼Œä»¥ 0 ç»“å°¾çš„å­åºåˆ—å’Œï¼Œä»¥ 1 ç»“å°¾çš„å­åºåˆ—å’Œï¼Œç­‰ç­‰ã€‚

é‚£ä¹ˆéœ€è¦å…³å¿ƒçš„äº‹æƒ…å˜ä¸ºï¼Œ`dp[i - 1] + nums[i]` å¦‚æžœå¤„ç†ã€‚å¦‚æžœå…ˆå‰çš„å­åºåˆ—çš„å’Œå¤§äºŽ 0 ï¼Œé‚£ä¹ˆå°†å…¶åŠ å…¥åˆ° dp[] æ•°ç»„ä¸­ï¼Œå¦åˆ™ï¼Œä¸åŠ å…¥å…ˆå‰çš„å­åºå’Œã€‚

è¿™æ ·çš„æ€è·¯å« â€œå‰ç¼€å’Œâ€ã€‚



```java
public int maxSubArray(int[] nums) {
    int n = nums.length;
    int[] dp = new int[n];
    dp[0] = nums[0];
    int maxSum = dp[0];

    if (n > 1) {
        for (int i = 1; i < n; i++) {
            dp[i] = nums[i] + (Math.max(dp[i - 1], 0));
            maxSum = Math.max(dp[i], maxSum);
        }
    }
    return maxSum;
}
```

#### å¤æ‚åº¦åˆ†æž

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)`
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(n)`

---

### åŠ¨æ€è§„åˆ’ ç©ºé—´ä¼˜åŒ–

ä»Žä¸Šé¢çš„ä»£ç ä¸Šå¯ä»¥è§çš„ï¼Œ`dp[i]` çš„å€¼åªå’Œä¸Šä¸€ä¸ª `dp[i - 1]` ç›¸å…³ï¼Œé‚£ä¹ˆå¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ã€‚ä½¿ç”¨å‡ ä¸ªå˜é‡å³å¯ã€‚

```java
// ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–ç‰ˆ
public int maxSubArray(int[] nums) {
    if (nums == null || nums.length == 0) {
        return 0;
    }

    int n = nums.length;
    int prev = nums[0]; // ä¿å­˜å½“å‰çš„æœ€ä¼˜å€¼ï¼Œä¸‹è½®å¾ªçŽ¯å˜ä¸ºä¸Šä¸€ä¸ªæœ€ä¼˜å€¼ï¼Œæ¥åˆ¤æ–­æ˜¯ä¸æ˜¯è¦åŠ å…¥ ä¸Šè½®çš„æœ€ä¼˜å€¼
    int cur = nums[0]; // å½“å‰å¯å–çš„æœ€ä¼˜å€¼
    int maxSum = nums[0]; // æœ€ç»ˆè¦è¾“å‡ºçš„æœ€å¤§å€¼
    if (n > 1) {
        for (int i = 1; i < n; i++) {
            cur = nums[i] + (Math.max(prev, 0));
            prev = cur;
            maxSum = Math.max(cur, maxSum);
        }
    }
    return maxSum;
}
```

#### å¤æ‚åº¦åˆ†æž

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)`
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)`

## ðŸ’¡æ€»ç»“ï¼š

åŸºç¡€åŠ¨æ€è§„åˆ’ã€‚

é¢å¤–è¡¥å……ä¸€é“åŠ¨æ€è§„åˆ’é¢˜ã€‚

### å®ˆæœ›è€…

##### é¢˜ç›®æè¿°

å®ˆæœ›è€…åœ¨ä¸€ä¸ªå°å²›ä¸Šï¼Œå°å²›æ­£åœ¨ä¸‹æ²‰ä¸­ï¼Œé¢„è®¡ t ç§’åŽå°±è¦æ²‰æ²¡ï¼Œä»–è·ç¦»é€ƒç”Ÿå‡ºå£çš„è·ç¦»ä¸º `s`ã€‚ä»–å¯ä»¥é€‰æ‹©è·‘è·¯å‰è¿›ï¼Œé€Ÿåº¦ä¸º `17 M / s` ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨é­”æ³•æŠ€èƒ½â€œé—ªâ€ï¼Œåœ¨ 1 ç§’å†…å‰è¿› 60 ç±³ã€‚ä½†æ˜¯ä½¿ç”¨è¿™ä¸ªæŠ€èƒ½éœ€è¦é­”æ³•å€¼ï¼Œéœ€è¦æ¶ˆè€— 10 ç‚¹é­”æ³•å€¼ï¼Œå®ˆæœ›è€…åˆå§‹é­”æ³•å€¼ä¸º `m`ã€‚å¦‚æžœé­”æ³•å€¼ä¸å¤Ÿï¼Œå¯ä»¥é€šè¿‡ä¼‘æ¯èŽ·å¾—ï¼Œæ¯ç§’æ¢å¤ 4 ç‚¹é­”æ³•å€¼ã€‚

å®ˆæœ›è€…æ¯ç§’åªèƒ½åšä¸€ä»¶äº‹æƒ…ï¼Œæ¯”å¦‚ä¼‘æ¯æ—¶ä¸èƒ½è·‘ä¹Ÿä¸èƒ½é—ªã€‚

è¯·é—®è¯¥å®ˆæœ›è€…èƒ½å¦é€ƒå‡ºå°å²›ï¼Œå¦‚æžœèƒ½ï¼Œè¾“å‡ºå…¶é€ƒå‡ºçš„æ—¶é—´ç‚¹ï¼›å¦‚æžœä¸èƒ½ï¼Œè¾“å‡ºé€ƒç¦»çš„æœ€è¿œè·ç¦»ã€‚

+ è¾“å…¥æ ¼å¼ï¼š
    + ä¸€è¡Œæ•´æ•°ï¼Œåˆ†åˆ«ä»£è¡¨ `m,s,t` ã€‚

##### è§£é¢˜æ€è·¯

`dp[i]` è¡¨ç¤º `i` ç§’æ—¶é€ƒç¦»çš„æœ€è¿œè·ç¦»ã€‚

ç¬¬ä¸€æ¬¡å‡è®¾å…¶å…¨éƒ¨ä½¿ç”¨é—ªé¿æŠ€èƒ½ï¼Œè®°å½•ä¸‹æ¯ä¸ªæ—¶é—´ç‚¹çš„æœ€è¿œè·ç¦»ã€‚

ç¬¬äºŒæ¬¡å‡è®¾å…¨éƒ¨ä½¿ç”¨è·‘æ­¥ä»…èƒ½ï¼Œæ›´æ–°æœ€è¿œçš„è·ç¦»ã€‚

æœ€åŽè¿›è¡Œåˆ¤æ–­å³å¯ã€‚

```java
import java.util.Scanner;

public class Main{
    public static void Solution() {
    	Scanner input = new Scanner(System.in);
        int m = input.nextInt();
        int s = input.nextInt();
        int t = input.nextInt();
        input.close();
        int[] dp = new int[t + 10];
        for (int i = 1; i <= t; i++) {
            if (m >= 10) {
                dp[i] = dp[i - 1] + 60;
                m = m - 10;
            } else {
                dp[i] = dp[i - 1];
                m = m + 4;
            }
        }

        for (int i = 1; i <= t; i++) {
            dp[i] = Math.max(dp[i - 1] + 17, dp[i]);
        }

        for (int i = 1; i <= t; i++) {
            if (dp[i] >= s) {
                System.out.print("Yes\n" + i);
                return;
            }
        }
        System.out.print("No\n" + dp[t]);
    }
    
    public static void main(String args[]) {
        Solution();
    }
}
```




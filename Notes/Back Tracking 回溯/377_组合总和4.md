# 377 : ç»„åˆæ€»å’Œ4

## ğŸ“Œé¢˜ç›®è¯¦æƒ…

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/combination-sum-iv/)

ğŸ“—Difficultyï¼š**Medium** 

ğŸ¯Tagsï¼š

+ [å›æº¯](https://leetcode-cn.com/tag/backtracking/)

---

## ğŸ“ƒé¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªç”±æ­£æ•´æ•°ç»„æˆä¸”ä¸å­˜åœ¨é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œæ‰¾å‡ºå’Œä¸ºç»™å®šç›®æ ‡æ­£æ•´æ•°çš„ç»„åˆçš„ä¸ªæ•°ã€‚



**æ ·ä¾‹ 1ï¼š**

```
nums = [1, 2, 3]
target = 4

æ‰€æœ‰å¯èƒ½çš„ç»„åˆä¸ºï¼š
(1, 1, 1, 1)
(1, 1, 2)
(1, 2, 1)
(1, 3)
(2, 1, 1)
(2, 2)
(3, 1)

è¯·æ³¨æ„ï¼Œé¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆã€‚

å› æ­¤è¾“å‡ºä¸º 7ã€‚
```



****

## ğŸ¹ğŸ¯è§£é¢˜æ€è·¯

å‚è€ƒå‰é¢çš„ç±»ä¼¼çš„å‡ é“ç»„åˆçš„é¢˜ç›®ã€‚ç»™å‡ºè¿™æ ·çš„ä»£ç ã€‚

```java
// DFS å‰ªæ
// æ— æ³•è§£å†³é¢˜ç›®ï¼Œæ—¶é—´å¤æ‚åº¦è¿‡é«˜
public List<List<Integer>> combinationSum4(int[] nums, int target) {
    List<List<Integer>> res = new ArrayList<>();

    if (nums == null || nums.length == 0) {
        return res;
    }

    Arrays.sort(nums);

    if (nums[0] > target) {
        return res;
    }

    int len = nums.length;
    Deque<Integer> path = new ArrayDeque<>();
    dfs(nums, len, target, path, res);

    return res;
}

private void dfs(int[] nums, int len, int target, Deque<Integer> path, List<List<Integer>> res) {
    if (target == 0) {
        res.add(new ArrayList<>(path));
        return;
    }

    for (int i = 0; i < len; i++) {
        if (target - nums[i] < 0) {
            break;
        }

        path.addLast(nums[i]);
        dfs(nums, len, target - nums[i], path, res);
        path.removeLast();
    }
}
```

è™½ç„¶èƒ½è¿‡æ‰æ ·ä¾‹ï¼Œä½†æ˜¯é‡åˆ°æ¯”è¾ƒå¤§çš„ `target` ï¼Œå›æº¯éœ€è¦çš„æ—¶é—´å’Œç©ºé—´å°±å¾ˆé«˜äº†ï¼Œè¶…å‡ºäº†è¿è¡Œçš„æ—¶é—´é™åˆ¶ã€‚



### åŠ¨æ€è§„åˆ’

> [åŠ¨æ€è§„åˆ’](https://leetcode-cn.com/problems/combination-sum-iv/solution/dong-tai-gui-hua-python-dai-ma-by-liweiwei1419/)

é¦–å…ˆç»™å‡ºé€’å½’çš„æ ‘å½¢å›¾ã€‚

![æ ‘å½¢å›¾](https://assets.ryantech.ltd/20201018222059.png)



![å¯¹åŠ¨æ€è§„åˆ’çš„è¿‡ç¨‹](https://assets.ryantech.ltd/20201018222121.png)



â€œåŠ¨æ€è§„åˆ’â€çš„ä¸¤ä¸ªæ­¥éª¤æ˜¯æ€è€ƒâ€œçŠ¶æ€â€ä»¥åŠâ€œçŠ¶æ€è½¬ç§»æ–¹ç¨‹â€ã€‚

1. çŠ¶æ€
    + å¯¹äºâ€œçŠ¶æ€â€ï¼Œæˆ‘ä»¬é¦–å…ˆæ€è€ƒèƒ½ä¸èƒ½å°±ç”¨é—®é¢˜å½“ä¸­é—®çš„æ–¹å¼å®šä¹‰çŠ¶æ€ï¼Œä¸Šé¢é€’å½’æ ‘éƒ½ç”»å‡ºæ¥äº†ã€‚å½“ç„¶å°±ç”¨é—®é¢˜é—®çš„æ–¹å¼ã€‚
    + `dp[i]` ï¼šå¯¹äºç»™å®šçš„ç”±æ­£æ•´æ•°ç»„æˆä¸”ä¸å­˜åœ¨é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œå’Œä¸º `i` çš„ç»„åˆçš„ä¸ªæ•°ã€‚
    + æ€è€ƒè¾“å‡ºä»€ä¹ˆï¼Ÿå› ä¸ºçŠ¶æ€å°±æ˜¯é—®é¢˜å½“ä¸­é—®çš„æ–¹å¼è€Œå®šä¹‰çš„ï¼Œå› æ­¤è¾“å‡ºå°±æ˜¯æœ€åä¸€ä¸ªçŠ¶æ€ `dp[n]` ã€‚
2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹
    + ç”±ä¸Šé¢çš„æ ‘å½¢å›¾ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°å†™å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
    + `dp[i] = sum{dp[i - num] for num in nums and if i >= num}`
    + æ³¨æ„ï¼šåœ¨ `0` è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å®šä¹‰ `dp[0] = 1 `çš„ï¼Œå®ƒè¡¨ç¤ºå¦‚æœ `nums` é‡Œæœ‰ä¸€ä¸ªæ•°æ°å¥½ç­‰äº `target`ï¼Œå®ƒå•ç‹¬æˆä¸º `1` ç§å¯èƒ½ã€‚



#### ä»£ç å®ç°

```java
// åŠ¨æ€è§„åˆ’
public int combinationSum4(int[] nums, int target) {
    int[] dp = new int[target + 1];
    // è¿™ä¸ªå€¼è¢«å…¶å®ƒçŠ¶æ€å‚è€ƒï¼Œè®¾ç½®ä¸º 1 æ˜¯åˆç†çš„
    dp[0] = 1;

    for (int i = 1; i <= target; i++) {
        for (int num : nums) {
            if (num <= i) {
                dp[i] += dp[i - num];
            }
        }
    }
    return dp[target];
}
```



---

## ğŸ’¡æ€»ç»“




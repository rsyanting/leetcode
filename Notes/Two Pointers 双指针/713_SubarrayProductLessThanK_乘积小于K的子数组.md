

# 713_SubarrayProductLessThanK_ä¹˜ç§¯å°äºKçš„å­æ•°ç»„

## ğŸ“Œé¢˜ç›®è¯¦æƒ…

[leetcode é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/subarray-product-less-than-k/)

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/subarray-product-less-than-k/)

ğŸ“—Difficultyï¼š	**Medium**	

ğŸ¯Tagsï¼š

+ **[Two Pointers](https://leetcode.com/tag/two-pointers/)** 
+ **[Array](https://leetcode.com/tag/array/)**

---

## ğŸ“ƒé¢˜ç›®æè¿°ï¼š

ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums`ã€‚

æ‰¾å‡ºè¯¥æ•°ç»„å†…ä¹˜ç§¯å°äº `k` çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚

**æ ·ä¾‹ 1ï¼š**

```
è¾“å…¥: nums = [10,5,2,6], k = 100
è¾“å‡º: 8
è§£é‡Š: 8ä¸ªä¹˜ç§¯å°äº100çš„å­æ•°ç»„åˆ†åˆ«ä¸º: [10], [5], [2], [6], [10,5], [5,2], [2,6], [5,2,6]ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ [10,5,2] å¹¶ä¸æ˜¯ä¹˜ç§¯å°äº100çš„å­æ•°ç»„ã€‚
```

**è¯´æ˜ï¼š**

+ `0 < nums.length <= 50000`
+ `0 < nums[i] < 1000`
+ `0 <= k < 10^6`



****

## ğŸ¹ğŸ¯è§£é¢˜æ€è·¯

### åŒæŒ‡é’ˆæ³•

å¯¹äºæ¯ä¸€ä¸ª `right` æŒ‡é’ˆï¼Œéœ€è¦æ‰¾åˆ°æœ€å·¦è¾¹çš„ `left` æŒ‡é’ˆï¼Œä½¿å¾— `left - right` çš„åŒºé—´çš„å­æ•°ç»„çš„ç§¯æ»¡è¶³å°äº `k`ã€‚

```java
public int numSubarrayProductLessThanK(int[] nums, int k) {
    // éå¸¸ç‰¹æ®Šçš„è¾¹ç•Œæ¡ä»¶ ç‰¹åˆ¤
    if (k <= 1) {
        return 0;
    }
    int left = 0;
    int res = 0;
    int mul = 1;
    for (int right = 0; right < nums.length; right++) {
        mul *= nums[right];
        // æ‰¾åˆ°æ»¡è¶³çš„æœ€å·¦ left
        while (mul >= k) {
            mul = mul / nums[left];
            left++;
        }
        // é¿å…é‡å¤è®¡ç®—
        res += right - left + 1;
    }
    return res;
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)`ã€‚`for` å¾ªç¯çš„å¤æ‚åº¦ä¸º `O(n)` ï¼Œè€Œ `left` æœ€å¤šç§»åŠ¨ `n` æ¬¡ï¼Œå› æ­¤æ€»çš„å¤æ‚åº¦ä¸º `O(n)` 
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)`ã€‚

## ğŸ’¡æ€»ç»“ï¼š

ç›¸ä¼¼é¢˜ç›®ï¼š

#### [152. ä¹˜ç§¯æœ€å¤§å­æ•°ç»„](https://leetcode-cn.com/problems/maximum-product-subarray/)

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¯·ä½ æ‰¾å‡ºæ•°ç»„ä¸­ä¹˜ç§¯æœ€å¤§çš„è¿ç»­å­æ•°ç»„ï¼ˆè¯¥å­æ•°ç»„ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°å­—ï¼‰ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„æ‰€å¯¹åº”çš„ä¹˜ç§¯ã€‚
>
> æ ·ä¾‹ 1ï¼š
>
> è¾“å…¥: [2,3,-2,4]
> è¾“å‡º: 6
> è§£é‡Š: å­æ•°ç»„ [2,3] æœ‰æœ€å¤§ä¹˜ç§¯ 6ã€‚



#### [53. æœ€å¤§å­åºå’Œ](https://leetcode-cn.com/problems/maximum-subarray/)

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚ 


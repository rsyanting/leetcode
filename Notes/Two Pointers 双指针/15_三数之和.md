# 15 : ä¸‰æ•°ä¹‹å’Œ

## ğŸ“Œé¢˜ç›®è¯¦æƒ…

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/3sum/)

ğŸ“—Difficultyï¼š**Medium** 

ğŸ¯Tagsï¼š

+ **[åŒæŒ‡é’ˆ](https://leetcode-cn.com/tag/two-pointers/)** 
+ **[æ’åº](https://leetcode-cn.com/tag/sort/)**
+ **[æ•°ç»„](https://leetcode-cn.com/tag/array/)**

---

## ğŸ“ƒé¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªåŒ…å« `n` ä¸ªæ•´æ•°çš„æ•°ç»„ `nums`ï¼Œåˆ¤æ–­ `nums` ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  `aï¼Œbï¼Œc` ï¼Œä½¿å¾— `a + b + c = 0` ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

**æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚**



**æ ·ä¾‹ 1ï¼š**

```
ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œ

æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š
[
  [-1, 0, 1],
  [-1, -1, 2]
]
```



****

## ğŸ¹ğŸ¯è§£é¢˜æ€è·¯

### æš´åŠ›è§£æ³• å¤šé‡å¾ªç¯

ä½¿ç”¨ 3 é‡çš„ for å¾ªç¯ï¼Œä¸æ–­åœ°éå†ï¼Œå°è¯•å¯»æ‰¾ä¸‰æ•°ä¹‹å’Œä¸º `0` çš„æƒ…å†µã€‚



#### ä»£ç å®ç°

> è¿™é‡Œçš„ä»£ç å­˜åœ¨çš„ä¸€å®šçš„é—®é¢˜ï¼Œæ±‚å‡ºçš„ç»“æœä¸­æœ‰é‡å¤çš„éƒ¨åˆ†ï¼Œè¿™é‡Œä»…ä»…ä½œä¸ºæ¼”ç¤ºã€‚

```java
public List<List<Integer>> threeSum(int[] nums) {
    List<List<Integer>> res = new ArrayList<>();
    if (nums == null || nums.length < 3) {
        return res;
    }

    int len = nums.length;
    for (int i = 0; i < len - 2; i++) {
        for (int j = i + 1; j < len - 1; j++) {
            for (int k = j + 1; k < len; k++) {
                if (nums[i] + nums[j] + nums[k] == 0) {
                    res.add(new ArrayList<>(Arrays.asList(nums[i], nums[j], nums[k])));
                }
            }
        }
    }

    return res;
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n ^ 3)`ã€‚ä¸‰é‡å¾ªç¯çš„å¤æ‚åº¦ä¸º `O(n ^ 3)` ã€‚æ¯ä¸ªå…ƒç´ æœ€å¤šéœ€è¦è®¿é—® 3 æ¬¡ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)` ã€‚

---

### åŒæŒ‡é’ˆè§£æ³•

åœ¨ [ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/) å‰ï¼Œè¿˜æœ‰ä¸€ä¸ª [Two Sum](https://leetcode-cn.com/problems/two-sum/) é—®é¢˜ï¼Œè¿™ä¸ªé—®é¢˜æˆ‘ä»¬ä½¿ç”¨äº† `HashMap` æ¥æ±‚è§£ï¼Œè¿‡ç¨‹ä¸­ï¼Œå›ºå®šäº†ä¸€ä¸ªæ•°å­—ï¼Œç„¶åå»å¯»æ‰¾å¦å¤–ä¸€ä¸ªæ•°å­—ï¼Œçœ‹çœ‹è¿™ `2` ä¸ªæ•°å­—çš„å’Œæ˜¯ä¸æ˜¯ä¸º `0`ã€‚

é‚£ä¹ˆï¼Œå¯¹äºä¸‰æ•°ä¹‹å’Œå‘¢ï¼Ÿèƒ½ä¸èƒ½å»å›ºå®š 1 ä¸ªæ•°å­—ï¼Œç„¶åå»å¯»æ‰¾å¦å¤– 2 ä¸ªæ•°å­—ï¼Ÿåœ¨å¯»æ‰¾å¦å¤– 2 ä¸ªæ•°å­—çš„è¿‡ç¨‹ä¸­ï¼Œä¸å†ä½¿ç”¨åŒé‡å¾ªç¯çš„åŠæ³•ï¼Œå°è¯•å¯»æ‰¾ `O(n)` çš„åŠæ³•ï¼Œæ¥é™ä½æ•´ä½“çš„å¤æ‚åº¦å‘¢ï¼Ÿ

å¯¹äº  [Two Sum](https://leetcode-cn.com/problems/two-sum/) é—®é¢˜ ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§è§£æ³•ï¼Œé¦–å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åä½¿ç”¨ 2 ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘æ•°ç»„çš„å¤´éƒ¨å’Œå°¾éƒ¨ï¼Œç„¶åå‘ä¸­é—´ç§»åŠ¨åŒæŒ‡é’ˆï¼Œç›´åˆ°å¯»æ‰¾åˆ°å’Œä¸º 0 çš„æƒ…å†µï¼Œè·³å‡ºå¾ªç¯ã€‚è®¡ç®—ä¸Šæ’åºéœ€è¦çš„ `O(n log n)`ï¼Œæ•´ä½“çš„æ—¶é—´å¤æ‚åº¦åœ¨ `O(n log n)` çº§åˆ«ï¼Œä½†æ˜¯é™ä½äº†ç©ºé—´å¤æ‚åº¦ã€‚

> ä»¥ä¸Šçš„è§£æ³•ï¼Œéœ€è¦å°† Two Sum çš„é¢˜ç›®è¿›è¡Œä¸€å®šçš„å˜æ¢ï¼Œä¸å†è¿”å›æ•°ç»„çš„ä¸‹æ ‡ï¼Œè€Œæ˜¯è¿”å›æ•°ç»„çš„å…ƒç´ å€¼ã€‚

å¯¹äº [ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/) é—®é¢˜ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é‡‡å–è¿™æ ·çš„æ–¹æ³•ï¼Œå°†æ•°ç»„é¦–å…ˆè¿›è¡Œä¸€ä¸ªæ’åºï¼ŒæŒ‰ç…§å‡åºè¿›è¡Œæ’åºã€‚ç„¶åï¼Œé€‰å®šä¸€ä¸ªå…ƒç´ ï¼Œæ¥ä¸‹æ¥ä½¿ç”¨åŒæŒ‡é’ˆå¯¹å‰©ä¸‹çš„å…ƒç´ è¿›è¡Œé€‰å–ã€‚å¯ä»¥å¾—åˆ°è¿™æ ·çš„ä»£ç ï¼š

```java
public List<List<Integer>> threeSum(int[] nums) {
    List<List<Integer>> res = new ArrayList<>();
    if (nums == null || nums.length < 3) {
        return res;
    }

    Arrays.sort(nums); // é¦–å…ˆå°†æ•°ç»„è¿›è¡Œå‡åºçš„æ’åº
    for (int k = 0; k < nums.length - 2; k++) {
        // è®¾ç½®åŒæŒ‡é’ˆ
        int left = k + 1;
        int right = nums.length - 1;
        while (left < right) {
            int sum = nums[k] + nums[left] + nums[right];
            if (sum < 0) {
                left++ï¼›
            } else if (sum > 0) {
				right--;
            } else {
                res.add(new ArrayList<>(Arrays.asList(nums[k], nums[left], nums[right])));
            }
        }
    }
    return res;
}
```

ä½†æ˜¯ï¼Œè¿™æ ·çš„ä»£ç ï¼Œæ²¡æœ‰è€ƒè™‘æ•°ç»„ä¸­é‡å¤å…ƒç´ çš„æƒ…å†µï¼Œé¢˜ç›®è¦æ±‚ä¸‰å…ƒç»„ä¸å¾—é‡å¤ã€‚æ‰€ä»¥ï¼Œå¿…é¡»è¦åŠ å…¥åˆ¤é‡çš„é€»è¾‘ï¼Œå»æ‰é‡å¤çš„å…ƒç´ ã€‚

å¯ä»¥è¿›ä¸€æ­¥ä¿®æ”¹ï¼Œå¾—å‡ºä¸‹é¢çš„ä»£ç ï¼š

```java
public List<List<Integer>> threeSum(int[] nums) {
    List<List<Integer>> res = new ArrayList<>();
    if (nums == null || nums.length < 3) {
        return res;
    }

    Arrays.sort(nums); // é¦–å…ˆå°†æ•°ç»„è¿›è¡Œå‡åºçš„æ’åº
    for (int k = 0; k < nums.length - 2; k++) {
        if (nums[k] > 0) {
            break; // ä¸å¯èƒ½å‡ºç°ä¸‰æ•°å­—å’Œä¸º 0 çš„æƒ…å†µäº†
        }
        if (k > 0 && nums[k] == nums[k - 1]) {
            continue; // æ’é™¤æ‰é‡å¤å…ƒç´ 
        }

        // è®¾ç½®åŒæŒ‡é’ˆ
        int left = k + 1;
        int right = nums.length - 1;
        while (left < right) {
            int sum = nums[k] + nums[left] + nums[right];
            if (sum < 0) {
                while (left < right && nums[left] == nums[++left]) ;// è·³è¿‡é‡å¤çš„æ•°å­—
            } else if (sum > 0) {
                while (left < right && nums[right] == nums[--right]) ; // è·³è¿‡é‡å¤çš„æ•°å­—
            } else {
                res.add(new ArrayList<>(Arrays.asList(nums[k], nums[left], nums[right])));
                while (left < right && nums[left] == nums[++left]) ;// è·³è¿‡é‡å¤çš„æ•°å­—
                while (left < right && nums[right] == nums[--right]) ;// è·³è¿‡é‡å¤çš„æ•°å­—
            }
        }
    }
    return res;
}
```

è¿™æ ·å°±å¯ä»¥ä¿è¯ä¸€ä¸ªç­”æ¡ˆåªè¢«æ·»åŠ ä¸€æ¬¡ï¼Œé‡å¤çš„ç»“æœéƒ½ä¼šè¢«è·³è¿‡ï¼Œå¯ä»¥å¾—åˆ°æ­£ç¡®çš„ç­”æ¡ˆã€‚



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n ^ 2)`ã€‚åŒæŒ‡é’ˆçš„å¾ªç¯ï¼Œæ¯ä¸ªå…ƒç´ æœ€å¤šè¢«è®¿é—®ä¸€æ¬¡ï¼Œå¤æ‚åº¦ä¸º `O(n)`ï¼Œè€Œå¤–é¢å›ºå®šç¬¬ä¸€ä¸ªå…ƒç´ çš„å¾ªç¯ï¼Œå¤æ‚åº¦ä¸º `O(n)`ã€‚æ•´ä½“çš„å¤æ‚åº¦ä¸º `O(n ^ 2)` ã€‚æœ€åˆçš„æ’åºæ“ä½œï¼Œå…¶å¤æ‚åº¦ä¸º `O(n log n)` ã€‚æ‰€ä»¥æœ€ç»ˆçš„å¤æ‚åº¦ä¸º `O(n ^ 2)` ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(log n)` ã€‚å¿«æ’å¤æ‚åº¦ä¸º `O(log n)` ã€‚



---

## ğŸ’¡æ€»ç»“

### ç›¸ä¼¼é—®é¢˜

#### [1. ä¸¤æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/two-sum/)

> å¤šä¸ªæ•°å­—å’Œé—®é¢˜çš„ç”±æ¥ã€‚



#### [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/)

> [ä¸‰æ•°ä¹‹å’Œï¼ˆæ’åº+åŒæŒ‡é’ˆï¼Œæ˜“æ‡‚å›¾è§£ï¼‰](https://leetcode-cn.com/problems/3sum/solution/3sumpai-xu-shuang-zhi-zhen-yi-dong-by-jyd/) 
>
> Krahets çš„é¢˜è§£ï¼Œé€‚åˆå¿«é€ŸæŒæ¡æœ¬é¢˜å‘ç‚¹å’Œå…³é”®ç‚¹ã€‚



> [ä¸€ä¸ªæ–¹æ³•ä» 2Sum ç§’æ€åˆ° 100Sum](https://leetcode-cn.com/problems/3sum/solution/yi-ge-fang-fa-tuan-mie-by-labuladong/) 
>
> è¯¥é¢˜è§£ä¸­ä» â€œTwo Sumâ€è¯´èµ·ï¼Œæ¢å¯» â€œThree Sumâ€ åˆ°  â€œFour Sumâ€ã€‚
>
> ç²¾è¿›ç®—æ³•çš„å¿…ç”±ä¹‹è·¯ï¼Œä»ä¸€ä¸ªé—®é¢˜ï¼Œæ‹“å±•å¼€å»ã€‚æ€»ç»“è§„å¾‹ï¼Œå½¢æˆæ¨¡æ¿ã€‚



#### [18. å››æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/4sum/)

> ä» â€œThree Sumâ€ æ‹“å±•å¼€å»ã€‚


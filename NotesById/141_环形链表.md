# 141 : ç¯å½¢é“¾è¡¨

## ğŸ“Œé¢˜ç›®è¯¦æƒ…

[leetcode é¢˜ç›®åœ°å€](https://leetcode.com/problems/linked-list-cycle/)

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/linked-list-cycle/)

ğŸ“—Difficultyï¼š**Easy**	

ğŸ¯Tagsï¼š

+ **[é“¾è¡¨](https://leetcode-cn.com/tag/linked-list/)**
+ **[åŒæŒ‡é’ˆ](https://leetcode-cn.com/tag/two-pointers/)** 

---

## ğŸ“ƒé¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ¤æ–­é“¾è¡¨ä¸­æ˜¯å¦æœ‰ç¯ã€‚

ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° `pos` æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» `0` å¼€å§‹ï¼‰ã€‚ å¦‚æœ `pos` æ˜¯ `-1`ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚



**æ ·ä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šhead = [3,2,0,-4], pos = 1
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚
```

![](https://assets.ryantech.ltd/20200811140348.png)



**æ ·ä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šhead = [1,2], pos = 0
è¾“å‡ºï¼štrue
è§£é‡Šï¼šé“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚
```

![](https://assets.ryantech.ltd/20200811140413.png)

**è¿›é˜¶**

+ ä½ èƒ½ç”¨ `O(1)`ï¼ˆå³ï¼Œå¸¸é‡ï¼‰å†…å­˜è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ



****

## ğŸ¹ğŸ¯è§£é¢˜æ€è·¯

å¯¹äºé“¾è¡¨çš„éå†æ“ä½œï¼Œä¸€èˆ¬çš„ä»£ç æ¡†æ¶ä¸ºï¼š

```java
void traverse(ListNode head) {
    for (ListNode q = head; q != null; q = q.next) {
        // ...
    }
}
```

ä½†æ˜¯ï¼Œæœ¬é¢˜çš„æè¿°ä¸‹ï¼Œå¦‚æœå‡ºç°äº†ç¯ï¼Œé‚£ä¹ˆä¼šé™·å…¥æ— é™å¾ªç¯ï¼Œæ²¡æ³•åœä¸‹æ¥ã€‚éœ€è¦æ‰¾åˆ°ä¸€ä¸ªä½¿å¾—å¾ªç¯åœä¸‹æ¥çš„æ¡ä»¶ï¼Œæ‰èƒ½å®Œæˆé¢˜ç›®ã€‚



> ä»¥ä¸‹æ€è·¯æ¥è‡ª [ã€Šç»å…¸é¢è¯•é¢˜ï¼šç¯å½¢é“¾è¡¨çš„åˆ¤æ–­ä¸å®šä½ã€‹](https://mp.weixin.qq.com/s/RTmeolRW4Z2o7HcdWx4tdg) çš„æ€è·¯ï¼Œæ„Ÿè°¢ä½œè€…çš„ç»†å¿ƒå’Œè¯¦ç»†çš„åˆ†æã€‚

### ä½¿ç”¨ å“ˆå¸Œè¡¨ è®°å½•å…ƒç´ 

åœ¨ Java ä¸­å€Ÿç”¨ `HashSet` å¯ä»¥å¿«é€ŸæŸ¥è¯¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦å‡ºç°è¿‡ï¼Œå¹¶ä¸”æ—¶é—´å¤æ‚åº¦ä¸º `O(1)`ã€‚å¯ä»¥å°†æ•´ä½“çš„æ—¶é—´å¤æ‚åº¦æ§åˆ¶åœ¨ `O(n)`ã€‚



#### ä»£ç å®ç°

```java
public boolean hasCycle(ListNode head) {
    // è®°å½•å·²è®¿é—®è¿‡çš„ç»“ç‚¹
    Set<ListNode> seen = new HashSet<>();
    for (ListNode q = head; q != null; q = q.next) {
        if (seen.contains(q)) {
            // é‡åˆ°å·²è®¿é—®è¿‡çš„ç»“ç‚¹ï¼Œç¡®å®šé“¾è¡¨å­˜åœ¨ç¯
            return true;
        }
        seen.add(q);
    }
    // éå†å¾ªç¯æ­£å¸¸é€€å‡ºï¼Œé“¾è¡¨ä¸å­˜åœ¨ç¯
    return false;
}

public static void main(String[] args) {
    ListNode head = new ListNode(3);
    head.next = new ListNode(2);
    ListNode cycle = head.next;
    head.next.next = new ListNode(0);
    head.next.next.next = new ListNode(-4);
    head.next.next.next.next = cycle;
    System.out.println(new Solution2().hasCycle(head));
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(n)` ã€‚

---

### å¿«æ…¢åŒæŒ‡é’ˆ å·§è§£

å¦‚æœéœ€è¦æ›´åŠ è¿›ä¸€æ­¥ä¼˜åŒ–ç©ºé—´å¤æ‚åº¦ï¼Œå°±éœ€è¦ç”¨åˆ°å¿«æ…¢æŒ‡é’ˆäº†ã€‚

è¿™æ ·çš„æ€è·¯ï¼Œéœ€è¦å¤šåšé¢˜ç›®ï¼Œå¤šåšæ€»ç»“ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œåœ¨åˆæ¬¡é‡è§æ—¶ï¼Œä¸åŠ æé†’ï¼Œå¾ˆéš¾æƒ³åˆ°è¿™æ ·çš„æ€è·¯ã€‚



#### ä»£ç å®ç°

```java
// å¿«æ…¢åŒæŒ‡é’ˆ è§£æ³•
public boolean hasCycle(ListNode head) {
    ListNode slow = head;
    ListNode fast = head;
    // æ³¨æ„ while å¾ªç¯çš„æ¡ä»¶
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
        if (slow == fast) {
            return true;
        }
    }
    return false;
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)` ã€‚



---

## ğŸ’¡æ€»ç»“

#### è¿›é˜¶

[142. ç¯å½¢é“¾è¡¨ II](https://leetcode-cn.com/problems/linked-list-cycle-ii/) ï¼Œåœ¨æœ¬é¢˜åŸºç¡€ä¸Šï¼Œéœ€è¦æ±‚è§£å‡ºå¾ªç¯çš„èµ·ç‚¹ã€‚æ€è€ƒå¦‚æœåœ¨å¿«æ…¢æŒ‡é’ˆçš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œä¸€å®šçš„ä»£ç ä¿®æ”¹ï¼Ÿ


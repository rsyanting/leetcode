# 18 : å››æ•°ä¹‹å’Œ

## ğŸ“Œé¢˜ç›®è¯¦æƒ…

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/4sum/)

ğŸ“—Difficultyï¼š**Medium** 

ğŸ¯Tagsï¼š

+ **[åŒæŒ‡é’ˆ](https://leetcode-cn.com/tag/two-pointers/)** 

---

## ğŸ“ƒé¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªåŒ…å« `n` ä¸ªæ•´æ•°çš„æ•°ç»„ `nums` å’Œä¸€ä¸ªç›®æ ‡å€¼ `target`ï¼Œåˆ¤æ–­ `nums` ä¸­æ˜¯å¦å­˜åœ¨å››ä¸ªå…ƒç´  `aï¼Œbï¼Œc` å’Œ `d` ï¼Œä½¿å¾— `a + b + c + d` çš„å€¼ä¸ `target` ç›¸ç­‰ï¼Ÿæ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤çš„å››å…ƒç»„ã€‚

æ³¨æ„ï¼š

+ ç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„å››å…ƒç»„ã€‚



**æ ·ä¾‹ 1ï¼š**

```
ç»™å®šæ•°ç»„ nums = [1, 0, -1, 0, -2, 2]ï¼Œå’Œ target = 0ã€‚

æ»¡è¶³è¦æ±‚çš„å››å…ƒç»„é›†åˆä¸ºï¼š
[
  [-1,  0, 0, 1],
  [-2, -1, 1, 2],
  [-2,  0, 0, 2]
]
```



****

## ğŸ¹ğŸ¯è§£é¢˜æ€è·¯

ä» [Three Sum ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/) è¯´èµ·ï¼Œä¸‰æ•°ä¹‹å’Œæ±‚è§£çš„æ˜¯ä¸‰ä¸ªæ•°å­—å’Œä¸º `0` çš„ä¸‰å…ƒç»„ï¼Œé‚£ä¹ˆå¯ä»¥ä¿®æ”¹ä¸‹é€»è¾‘ä¸º ä¸‰æ•°ä¹‹å’Œ ä¸º `target` çš„é€»è¾‘ã€‚

é‚£ä¹ˆå¯¹äº [18. å››æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/4sum/) ï¼Œå›ºå®šå…¶ä¸­çš„ä¸€ä½æ•°å­—ï¼Œå¯¹äºå‰©ä¸‹çš„æ•°å­—ï¼Œè°ƒç”¨ `threeSum(int[] nums, int start, int target)` æ±‚è§£å‡ºä¸‰å…ƒç»„ï¼Œå†åŠ ä¸Šå›ºå®šçš„æ•°å­—ï¼Œå³å¯æ±‚è§£å‡ºå››å…ƒç»„ã€‚

> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`threeSum(int[] nums, int start, int target)` çš„ä»£ç é€»è¾‘éœ€è¦è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ï¼Œä¸èƒ½ç›´æ¥ç…§æ¬ [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/)  çš„ä»£ç ã€‚
>



#### ä»£ç å®ç°

```java
public List<List<Integer>> fourSum(int[] nums, int target) {
    if (nums == null || nums.length < 4) {
        return new ArrayList<>();
    }

    int len = nums.length;
    List<List<Integer>> res = new ArrayList<>();
    Arrays.sort(nums); // æ’åºä¸€æ¬¡å³å¯

    for (int i = 0; i < len - 3; i++) { // æ³¨æ„å¾ªç¯çš„èŒƒå›´
        // è°ƒç”¨ threeSum æ±‚è§£å‰©ä¸‹çš„
        List<List<Integer>> threeSumList = threeSum(nums, i + 1, target - nums[i]);
        for (int j = 0; j < threeSumList.size(); j++) {
            List<Integer> num = new ArrayList<>();
            num.add(nums[i]);
            List<Integer> threeSum = threeSumList.get(j);
            for (int k = 0; k < threeSum.size(); k++) {
                num.add(threeSum.get(k));
            }
            res.add(num); // æ·»åŠ å…¨éƒ¨çš„å…ƒç´ 
        }

        // è·³è¿‡é‡å¤çš„å…ƒç´ 
        while (i < len - 1 && nums[i] == nums[i + 1]) {
            i++;
        }
    }

    return res;
}

// Three Sum æ€è·¯
// æ³¨æ„ï¼šè¿™é‡Œä¸èƒ½ç›´æ¥å¥—ç”¨ Three Sum çš„ä»£ç 
// éƒ¨åˆ†çš„ç»†èŠ‚éœ€è¦å†æ¬¡æ€è€ƒå’Œä¿®æ”¹
public List<List<Integer>> threeSum(int[] nums, int start, int target) {
    List<List<Integer>> res = new ArrayList<>();
    int len = nums.length - start; // æ³¨æ„ len çš„é•¿åº¦
    if (len < 3) {
        return res;
    }

    for (int k = start; k < nums.length - 2; k++) {
        if (k > start && nums[k] == nums[k - 1]) {
            continue; // æ’é™¤æ‰é‡å¤å…ƒç´ 
        }

        // è®¾ç½®åŒæŒ‡é’ˆ
        int left = k + 1;
        int right = nums.length - 1;
        while (left < right) {
            int sum = nums[k] + nums[left] + nums[right];
            if (sum < target) {
                while (left < right && nums[left] == nums[++left]) ;// è·³è¿‡é‡å¤çš„æ•°å­—
            } else if (sum > target) {
                while (left < right && nums[right] == nums[--right]) ; // è·³è¿‡é‡å¤çš„æ•°å­—
            } else {
                res.add(new ArrayList<>(Arrays.asList(nums[k], nums[left], nums[right])));
                while (left < right && nums[left] == nums[++left]) ;// è·³è¿‡é‡å¤çš„æ•°å­—
                while (left < right && nums[right] == nums[--right]) ;// è·³è¿‡é‡å¤çš„æ•°å­—
            }
        }
    }
    return res;
}
```



#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n ^ 3)`ã€‚æšä¸¾å››å…ƒç»„çš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n ^ 3)` ã€‚æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯ `O(n log n)` ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(log n)` ã€‚å¿«é€Ÿæ’åºéœ€è¦æ¶ˆè€— `O(log n)` ã€‚



---

## ğŸ’¡æ€»ç»“

### ç›¸ä¼¼é—®é¢˜

#### [1. ä¸¤æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/two-sum/)

> å¤šä¸ªæ•°å­—å’Œé—®é¢˜çš„ç”±æ¥ã€‚



#### [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode-cn.com/problems/3sum/)

> [ä¸‰æ•°ä¹‹å’Œï¼ˆæ’åº+åŒæŒ‡é’ˆï¼Œæ˜“æ‡‚å›¾è§£ï¼‰](https://leetcode-cn.com/problems/3sum/solution/3sumpai-xu-shuang-zhi-zhen-yi-dong-by-jyd/)
>
> Krahets çš„é¢˜è§£ï¼Œé€‚åˆå¿«é€ŸæŒæ¡æœ¬é¢˜å‘ç‚¹å’Œå…³é”®ç‚¹ã€‚

> [ä¸€ä¸ªæ–¹æ³•ä» 2Sum ç§’æ€åˆ° 100Sum](https://leetcode-cn.com/problems/3sum/solution/yi-ge-fang-fa-tuan-mie-by-labuladong/)
>
> è¯¥é¢˜è§£ä¸­ä» â€œTwo Sumâ€è¯´èµ·ï¼Œæ¢å¯» â€œThree Sumâ€ åˆ° â€œFour Sumâ€ã€‚
>
> ç²¾è¿›ç®—æ³•çš„å¿…ç”±ä¹‹è·¯ï¼Œä»ä¸€ä¸ªé—®é¢˜ï¼Œæ‹“å±•å¼€å»ã€‚æ€»ç»“è§„å¾‹ï¼Œå½¢æˆæ¨¡æ¿ã€‚




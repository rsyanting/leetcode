# 628 : ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯

## ğŸ“Œé¢˜ç›®è¯¦æƒ…

[leetcode é¢˜ç›®åœ°å€](https://leetcode.com/problems/maximum-product-of-three-numbers/)

[leetcode-cn é¢˜ç›®åœ°å€](https://leetcode-cn.com/problems/maximum-product-of-three-numbers/)

ğŸ“—Difficultyï¼š**Easy**	

ğŸ¯Tagsï¼š

+ **[Math](https://leetcode.com/tag/math/)**
+ **[Array](https://leetcode.com/tag/array/)**

---

## ğŸ“ƒé¢˜ç›®æè¿°ï¼š

ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾å‡ºç”±ä¸‰ä¸ªæ•°ç»„æˆçš„æœ€å¤§ä¹˜ç§¯ï¼Œå¹¶è¾“å‡ºè¿™ä¸ªä¹˜ç§¯ã€‚ 

**æ ·ä¾‹ 1ï¼š**

```
è¾“å…¥: [1,2,3]
è¾“å‡º: 6
```



**æ ·ä¾‹ 2ï¼š**

```
è¾“å…¥: [1,2,3,4]
è¾“å‡º: 24
```

**æ³¨æ„ï¼š**

1. ç»™å®šçš„æ•´å‹æ•°ç»„é•¿åº¦èŒƒå›´æ˜¯[3,10^4]ï¼Œæ•°ç»„ä¸­æ‰€æœ‰çš„å…ƒç´ èŒƒå›´æ˜¯[-1000, 1000]ã€‚
2. è¾“å…¥çš„æ•°ç»„ä¸­ä»»æ„ä¸‰ä¸ªæ•°çš„ä¹˜ç§¯ä¸ä¼šè¶…å‡º 32 ä½æœ‰ç¬¦å·æ•´æ•°çš„èŒƒå›´ã€‚

****

## ğŸ¹ğŸ¯è§£é¢˜æ€è·¯

### çº¿æ€§å¤æ‚åº¦çš„æ€è·¯

å’Œ [152. ä¹˜ç§¯æœ€å¤§å­æ•°ç»„](https://leetcode-cn.com/problems/maximum-product-subarray/) ç±»ä¼¼ï¼Œç»™å®šçš„æ•°ç»„ä¸­å­˜åœ¨è´Ÿæ•°çš„æƒ…å†µã€‚éœ€è¦åˆ†æƒ…å†µè®¨è®ºã€‚

+ å½“ 3 ä¸ªæ•°å­—**ä¸åŒ…å«è´Ÿæ•°**æ—¶ï¼Œè¦å–å¾—æœ€å¤§å€¼ï¼Œéœ€è¦å–æœ€å¤§çš„ä¸‰ä¸ªæ­£æ•°ã€‚
+ å½“ 3 ä¸ªæ•°å­—ä¸­**åŒ…å«è´Ÿæ•°**æ—¶ï¼Œè¦å–å¾—æœ€å¤§å€¼ï¼Œéœ€è¦å– 2 ä¸ªæœ€å°çš„è´Ÿæ•°ï¼Œè´Ÿè´Ÿå¾—æ­£ï¼Œå†å–ä¸€ä¸ªæœ€å¤§çš„æ­£æ•°ã€‚

### æ’åºå–æ•°

ç›´æ¥æ’åºï¼Œå–æœ€å¤§çš„ 3 ä¸ªæ­£æ•°ï¼Œå–æœ€å°çš„ 2 ä¸ªè´Ÿæ•°å’Œ 1 ä¸ªæœ€å¤§çš„è´Ÿæ•°ï¼Œç„¶ååˆ†åˆ«ç›¸ä¹˜å–æœ€å¤§å€¼ã€‚

```java
public int maximumProduct(int[] nums) {
    Arrays.sort(nums);
    int n = nums.length;
    return Math.max(nums[0] * nums[1] * nums[n - 1], nums[n - 1] * nums[n - 2] * nums[n - 3]);
}
```

#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`Oï¼ˆn log nï¼‰` æ’åºå¤æ‚åº¦ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`Oï¼ˆ1ï¼‰` ã€‚

### ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—

```java
// ä¼˜å…ˆé˜Ÿåˆ—
// ç©ºé—´å¤æ‚åº¦ä¸ä½³
public int maximumProduct(int[] nums) {
    PriorityQueue<Integer> maxQueue = new PriorityQueue<>(new Comparator<Integer>() {
        @Override
        public int compare(Integer i1, Integer i2) {
            return i2 - i1;
        }
    });
    PriorityQueue<Integer> minQueue = new PriorityQueue<>();
    for (int i = 0; i < nums.length; i++) {
        maxQueue.offer(nums[i]);
        minQueue.offer(nums[i]);
    }
    int max1 = maxQueue.poll();
    int max2 = maxQueue.poll();
    int max3 = maxQueue.poll();
    int min1 = minQueue.poll();
    int min2 = minQueue.poll();
    return Math.max(max1 * max2 * max3, max1 * min1 * min2);
}
```

#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n log n)` ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—çš„å¤æ‚åº¦ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(n)` éœ€è¦é¢å¤– 2 ä¸ªä¼˜å…ˆé˜Ÿåˆ—æ¥å­˜å‚¨æ•°æ®ã€‚

### éå†å–æ•°

```java
public int maximumProduct(int[] nums) {
    // æ‰¾å‡ºæœ€å¤§çš„ 3 ä¸ªæ­£æ•°å’Œæœ€å°çš„ 2 ä¸ªè´Ÿæ•° å³å¯
    int max1 = Integer.MIN_VALUE;
    int max2 = Integer.MIN_VALUE;
    int max3 = Integer.MIN_VALUE;
    int min1 = Integer.MAX_VALUE;
    int min2 = Integer.MAX_VALUE;
    for (int i = 0; i < nums.length; i++) {
        // min1 æ˜¯æœ€å°çš„æ•°
        if (nums[i] <= min1) {
            min2 = min1;
            min1 = nums[i];
        } else if (nums[i] <= min2) {
            min2 = nums[i];
        }
        // max1 æ˜¯æœ€å¤§çš„æ•°å­—
        if (nums[i] >= max1) {
            max3 = max2;
            max2 = max1;
            max1 = nums[i];
        } else if (nums[i] >= max2) {
            max3 = max2;
            max2 = nums[i];
        } else if (nums[i] >= max3) {
            max3 = nums[i];
        }
    }
    return Math.max(max1 * max2 * max3, max1 * min1 * min2);
}
```

ä»£ç å¦‚ä¸Šï¼Œæ¯”è¾ƒæ€è·¯è¾ƒä¸ºç®€å•æ˜“æ‡‚ã€‚

#### å¤æ‚åº¦åˆ†æ

+ æ—¶é—´å¤æ‚åº¦ï¼š`O(n)` ã€‚
+ ç©ºé—´å¤æ‚åº¦ï¼š`O(1)` ã€‚

## ğŸ’¡æ€»ç»“ï¼š

ç›¸ä¼¼é¢˜ç›®ï¼š

#### [152. ä¹˜ç§¯æœ€å¤§å­æ•°ç»„](https://leetcode-cn.com/problems/maximum-product-subarray/)

> ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œè¯·ä½ æ‰¾å‡ºæ•°ç»„ä¸­ä¹˜ç§¯æœ€å¤§çš„è¿ç»­å­æ•°ç»„ï¼ˆè¯¥å­æ•°ç»„ä¸­è‡³å°‘åŒ…å«ä¸€ä¸ªæ•°å­—ï¼‰ï¼Œå¹¶è¿”å›è¯¥å­æ•°ç»„æ‰€å¯¹åº”çš„ä¹˜ç§¯ã€‚
>
> æ ·ä¾‹ 1ï¼š
>
> è¾“å…¥: [2,3,-2,4]
> è¾“å‡º: 6
> è§£é‡Š: å­æ•°ç»„ [2,3] æœ‰æœ€å¤§ä¹˜ç§¯ 6ã€‚

#### [713. ä¹˜ç§¯å°äºKçš„å­æ•°ç»„](https://leetcode-cn.com/problems/subarray-product-less-than-k/)

> ç»™å®šä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ `nums`ã€‚
>
> æ‰¾å‡ºè¯¥æ•°ç»„å†…ä¹˜ç§¯å°äº `k` çš„è¿ç»­çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚

#### [53. æœ€å¤§å­åºå’Œ](https://leetcode-cn.com/problems/maximum-subarray/)

> ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums` ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚ 

